<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credesasq Server</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
        }
        header {
            background-color: #007bff;
            color: white;
            padding: 10px 0;
        }
        header nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
        }
        header nav ul li {
            margin: 0 10px;
        }
        header nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: bold;
        }
        main {
            padding: 20px;
            text-align: center;
        }
        footer {
            background-color: #007bff;
            color: white;
            text-align: center;
            padding: 10px 0;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
        .donate {
            margin: 20px 0;
        }
        .donate a, .donate button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .donate a:hover, .donate button:hover {
            background-color: #0056b3;
        }
        .donate form {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .donate form input, .donate form button {
            margin: 5px 0;
            padding: 10px;
            width: 80%;
            max-width: 300px;
            box-sizing: border-box;
        }
        .minecraft-info {
            margin: 20px 0;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border-radius: 5px;
            box-sizing: border-box;
        }
        @media (max-width: 600px) {
            header nav ul {
                flex-direction: column;
            }
            .donate form input, .donate form button {
                width: 100%;
            }
        }
        .chart-container {
            width: 80%;
            margin: 20px auto;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="index.html" id="home-link">Головна</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <h1 id="welcome-message">Ласкаво просимо до Credesasq Server</h1>
        <p id="news-announcement">Останні новини та оголошення.</p>
        <!-- Додати новини та оголошення тут -->

        <div class="minecraft-info">
            <h2>Наш Minecraft сервер</h2>
            <p>IP: <strong>credesasq_server.exaroton.me:32650</strong></p>
        </div>

        <div class="donate">
            <h2 id="donate-title">Поповнення балансу</h2>
            <p id="donate-description">Ви можете поповнити баланс на сервері:</p>
            <div id="donate-method">
                <!-- Тут буде відображено метод поповнення -->
            </div>
            <form id="donate-form">
                <input type="text" id="nickname" name="nickname" placeholder="Ваш нік" required>
                <input type="number" id="amount" name="amount" placeholder="Сума поповнення" required>
                <input type="email" id="email" name="email" placeholder="Ваша електронна пошта" required>
                <button type="submit">Відправити</button>
            </form>
        </div>

        <div class="chart-container">
            <canvas id="myChart"></canvas>
        </div>
    </main>
    <footer>
        <p id="country-info"></p>
        <p>Контакти: stasikgnidan@gmail.com, +380987608895</p>
    </footer>
    <script>
        fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                const country = data.country;
                const donateDiv = document.getElementById('donate-method');
                const countryInfo = document.getElementById('country-info');
                const welcomeMessage = document.getElementById('welcome-message');
                const newsAnnouncement = document.getElementById('news-announcement');
                const donateTitle = document.getElementById('donate-title');
                const donateDescription = document.getElementById('donate-description');
                const homeLink = document.getElementById('home-link');

                let currencySymbol;
                switch (country) {
                    case 'UA':
                        currencySymbol = 'UAH';
                        donateDiv.innerHTML = '<p>Поповнити через Monobank (1 UAH = 1cb)</p>';
                        countryInfo.textContent = 'Ми з України (UA)';
                        document.documentElement.lang = 'uk';
                        welcomeMessage.textContent = 'Ласкаво просимо до Credesasq Server';
                        newsAnnouncement.textContent = 'Останні новини та оголошення.';
                        donateTitle.textContent = 'Поповнення балансу';
                        donateDescription.textContent = 'Ви можете поповнити баланс на сервері:';
                        homeLink.textContent = 'Головна';
                        break;
                    case 'RU':
                        currencySymbol = 'RUB';
                        donateDiv.innerHTML = '<p>Переказати кошти на картку: 4441 1144 3486 1462 (1 RUB = 1cb)</p>';
                        countryInfo.textContent = 'Мы из России (RU)';
                        document.documentElement.lang = 'ru';
                        welcomeMessage.textContent = 'Добро пожаловать на Credesasq Server';
                        newsAnnouncement.textContent = 'Последние новости и объявления.';
                        donateTitle.textContent = 'Пополнение баланса';
                        donateDescription.textContent = 'Вы можете пополнить баланс на сервере:';
                        homeLink.textContent = 'Главная';
                        break;
                    case 'US':
                        currencySymbol = 'USD';
                        donateDiv.innerHTML = '<p>Transfer funds to the card: 4441 1144 3486 1462 (1 USD = 1cb)</p>';
                        countryInfo.textContent = 'We are from the United States (US)';
                        document.documentElement.lang = 'en';
                        welcomeMessage.textContent = 'Welcome to Credesasq Server';
                        newsAnnouncement.textContent = 'Latest news and announcements.';
                        donateTitle.textContent = 'Balance Replenishment';
                        donateDescription.textContent = 'You can replenish the balance on the server:';
                        homeLink.textContent = 'Home';
                        break;
                    default:
                        currencySymbol = 'USD';
                        donateDiv.innerHTML = '<p>Transfer funds to the card: 4441 1144 3486 1462 (1 USD = 1cb)</p>';
                        countryInfo.textContent = 'We are from another country (EN)';
                        document.documentElement.lang = 'en';
                        welcomeMessage.textContent = 'Welcome to Credesasq Server';
                        newsAnnouncement.textContent = 'Latest news and announcements.';
                        donateTitle.textContent = 'Balance Replenishment';
                        donateDescription.textContent = 'You can replenish the balance on the server:';
                        homeLink.textContent = 'Home';
                        break;
                }

                // Оновити плейсхолдер для суми поповнення з урахуванням валюти
                document.getElementById('amount').placeholder = `Сума поповнення (${currencySymbol})`;
            })
            .catch(error => {
                console.error('Error fetching IP data:', error);
            });

        document.getElementById('donate-form').addEventListener('submit', function(event) {
            event.preventDefault();

            const nickname = document.getElementById('nickname').value;
            const amount = document.getElementById('amount').value;
            const email = document.getElementById('email').value;
            const country = document.documentElement.lang.toUpperCase();

            const mailtoLink = `https://send.monobank.ua/jar/AbnKs1v1mU?amount=${amount}&nickname=${nickname}&email=${email}`;
            window.location.href = mailtoLink;
        });

        // Графік за допомогою Chart.js
        const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'bar', // або 'line', 'pie', 'doughnut' тощо
            data: {
                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                datasets: [{
                    label: 'Votes',
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</body>
</html>
